<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Extended image attributes — imageAttributes • divest</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Extended image attributes — imageAttributes"><meta property="og:description" content="These functions extract and replace medical image attributes that go beyond
the core metadata associated with the NIfTI-1 file format."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">divest</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/jonclayden/divest/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extended image attributes</h1>
    <small class="dont-index">Source: <a href="https://github.com/jonclayden/divest/blob/1.1.1.s/R/attribs.R" class="external-link"><code>R/attribs.R</code></a></small>
    <div class="hidden name"><code>imageAttributes.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These functions extract and replace medical image attributes that go beyond
the core metadata associated with the NIfTI-1 file format.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">imageAttributes</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">imageAttributes</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An R object, generally an image object like those returned by
<code><a href="readDicom.html">readDicom</a></code>.</p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>A list of new image attributes to replace any existing ones.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list of image attributes, or a modified object with these changed.
These are essentially all attributes except those used for basic
<code>niftiImage</code> objects by the <code>RNifti</code> package.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The DICOM format can encapsulate copious amounts of metadata about the scan
and the patient, which can be useful for more advanced or research-focussed
post-processing methods. Some of this information is extracted during the
DICOM-to-NIfTI conversion process and stored in additional named attributes;
the <code>imageAttributes</code> function returns a list of just these extended
attributes. The replacement form allows this metadata to be modified or
removed. These functions currently only act on objects inheriting from the
<code>niftiImage</code> class.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>Attributes may include sensitive or identifiable information such as
a patient's name, sex, date of birth, etc., if this was included in the
original DICOM files. These functions make no attempt to identify or
anonymise this metadata, and so this must be handled by the user if
necessary.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>More information about metadata captured by the BIDS format can
be found at <a href="https://bids.neuroimaging.io" class="external-link">https://bids.neuroimaging.io</a> or in the paper cited
below.</p>
<p>K.J. Gorgolewski, T. Auer, V.D. Calhoun, et al. The brain imaging data
structure, a format for organizing and describing outputs of neuroimaging
experiments (2016). Scientific Data 3:160044. <a href="https://doi.org/10.1038/sdata.2016.44" class="external-link">doi:10.1038/sdata.2016.44</a>
.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Jon Clayden <a href="mailto:code@clayden.org">code@clayden.org</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"raw"</span>, package<span class="op">=</span><span class="st">"divest"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">images</span> <span class="op">&lt;-</span> <span class="fu"><a href="readDicom.html">readDicom</a></span><span class="op">(</span><span class="va">path</span>, interactive<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [dcm2niix info] Found 4 DICOM file(s)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [dcm2niix WARNING] Unable to determine manufacturer (0008,0070), so conversion is not tuned for vendor.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [dcm2niix WARNING] All images appear to be a single slice - please check slice/vector orientation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [dcm2niix WARNING] This diffusion series does not have a B0 (reference) volume</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [dcm2niix info] Convert 2 DICOM as /tmp/RtmpiE1VgV/divest_30471/T0_N_S8 (96x96x1x2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [dcm2niix WARNING] Unable to determine manufacturer (0008,0070), so conversion is not tuned for vendor.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [dcm2niix info] Convert 2 DICOM as /tmp/RtmpiE1VgV/divest_30471/T0_N_S9 (224x256x2x1)</span>
<span class="r-in"><span><span class="fu">imageAttributes</span><span class="op">(</span><span class="va">images</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $bValues</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2000 2000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $bVectors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        [,1]   [,2]   [,3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.5508 0.4258 0.7177</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.1110 0.2640 0.9581</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $modality</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "MR"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fieldStrength</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.494</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $imagingFrequency</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 63.68285</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $patientPosition</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "HFS"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $MRAcquisitionType</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2D"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $seriesDescription</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "DTIb3000s5"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $protocolName</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "DTIb3000s5"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $scanningSequence</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "SE\\EP"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $sequenceVariant</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "SK\\SP"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $scanOptions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "FS"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $sequenceName</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "ep_b2000#16"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $imageType</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "ORIGINAL" "PRIMARY"  "M"        "ND"       "NORM"    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $nonlinearGradientCorrection</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $seriesNumber</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $acquisitionNumber</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $sliceThickness</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $sliceSpacing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SAR</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.0973325</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $numberOfAverages</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $echoTime</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 112</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $repetitionTime</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 4100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $spoilingState</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $flipAngle</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $percentPhaseFOV</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $percentSampling</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $phaseEncodingSteps</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 72</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $acquisitionMatrixPE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 96</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $reconMatrixPE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 96</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $pixelBandwidth</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 900</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $phaseEncodingDirection</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "j"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $phaseEncodingSign</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $imageOrientationPatientDICOM</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 0 0 0 1 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $inPlanePhaseEncodingDirectionDICOM</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "COL"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $conversionSoftware</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "dcm2niix"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $conversionSoftwareVersion</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "v1.0.20241001"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jon Clayden, Chris Rorden.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

      </footer></div>






  </body></html>

